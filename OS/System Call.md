# System Call

> 운영 체제의 커널이 제공하는 서비스에 대해, 응용 프로그램의 요청에 따라 커널에 접근하기 위한 인터페이스
>
> 고급 언어로 작성된 프로그램들은 직접 시스템 호출이 불가능하기 때문에 고급 API를 통해 시스템 호출에 접근 하게 하는 방법



### 시스템 콜의 목적

- 응용프로그램으로 대표되는 유저 프로세스(User Process)는 특정 기능을 구현하기 위해 커널 단계의 작업이 필요
- 커널과 관련된 작업은 커널 모드로 전환해야만 해당 권한이 생기며, **시스템 콜**을 통해 수행하도록 설계

![img](https://blog.kakaocdn.net/dn/JXwNG/btqw787Kgfe/vmrkitiEEjDI8G9w2mFzUk/img.png)

- 권한 설정 이유
  - 잘못된 시스템 콜의 경우 시스템 전체를 망가뜨릴 수 있기 때문
  - 커널 모드에서만 시스템 콜을 실행
  - 유저 모드에서 시스템 콜을 실행할 경우 운영체제에서 불법적인 접근으로 여기고 trap을 발생



### 시스템 콜 예시

```bash
cp in.txt. out.txt
```

- in.txt에 있는 파일 내용을 복사하여 out.txt 파일을 만드는 명령어

- 위의 명령어 수행에 호출되는 시스템 콜의 예시

  - I/O 시스템 콜 : 사용자로부터 하드웨어(윈도우 OS : 마우스 / 리눅스 : 키보드)
  - **in.txt**파일이 현재 디렉토리에서 접근 가능한 파일인지 검사하는 시스템 콜
  - **in.txt**가 존재하지 않는다면, 에러를 발생시키고 프로그램을 종료시키는 시스템 콜
  - **in.txt**가 존재한다면, **out.txt** 파일명이 이미 존재하는지 확인하는 시스템 콜
  - **out.txt**가 이미 다른 파일로 존재한다면, 파일 처리 방법(덮어쓰기 혹은 이어쓰기)을 묻는 시스템 콜
  - **out.txt**로 생성이 가능하다면, 파일을 저장하는 시스템 콜

  ![img](https://blog.kakaocdn.net/dn/bAPjla/btqw7Qe9Ppa/FhpxhmnirEN1k63R6Qr3nk/img.png)



### 시스템 콜의 종류

- 프로세스 컨트롤

  - 프로세스 생성 및 종료
  - 메모리에 로드, 실행
  - 프로세스 속성 값 확인, 지정
  - wait 이벤트, signal 이벤트
  - 메모리 할당

  

- 파일 매니지먼트

  - 파일 생성, 파일 삭제
  - 열기, 닫기
  - 읽기, 쓰기, Reposition
  - 파일 속성 값 확인, 지정

  

- 디바이스 매니지먼트

  - 디바이스 요청 및 해제
  - 읽기, 쓰기, Reposition
  - 디바이스 속성 확인, 지정
  - 비 물리적인 디바이스 해제 및 장착

  

- 정보 관리

  - 시간 확인, 시간 지정
  - 시스템 데이터 확인, 지정
  - 프로세스, 파일, 디바이스 속성 가져오기
  - 프로세스, 파일, 디바이스 속성 설정하기

  

- 커뮤니케이션

  - 커뮤니케이션 연결 생성 및 삭제
  - 메시지 송신, 수신
  - 상태 정보 전달
  - remote 디바이스 해제 및 장착

  

- 보안

  - permission 획득
  - permission 설정



### 참조

[운영체제] 시스템 콜 (System Call) : https://fjvbn2003.tistory.com/306